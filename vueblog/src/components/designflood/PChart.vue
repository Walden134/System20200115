<template>

  <chart :options="P3">
  </chart>

</template>

<script>
import ECharts from "vue-echarts/components/ECharts.vue";
import "echarts/lib/chart/line";
import "echarts/lib/component/tooltip";
import "echarts/lib/component/polar";
import "echarts/lib/component/legend";
import "echarts/lib/component/title";
import "echarts/theme/dark";
import "echarts/lib/chart/bar";

import { getRequest } from "../../utils/api";

var colors = ["#5793f3", "#d14a61", "#675bba"];

export default {
  props: ["title"],
  methods: {},
  data: function() {
    return {
      P3: {
        title: {
          text: this.title.title,
          left: "center"
        },

        grid: {
          top: 25,
          bottom: 45,
          right: 5,
          left: 60
        },
        legend: {
          top: 25, //与grid中top一致
          data: ["历史洪水", "经验频率", "理论频率"],
          orient: "vertical",
          right: "1%",
          backgroundColor: "#FFFFFF"
        },
        xAxis: {
          name: "频率(%)",
          nameLocation: "middle",
          nameGap: 30, //坐标轴名字与坐标轴距离
          axisTick: {
            show: false
          },
          axisLabel: {
            show: false
          },
          splitLine: {
            show: false
          }
        },
        yAxis: [
          {
            name: "流量",
            nameLocation: "middle",
            nameGap: 50, //坐标轴名字与坐标轴距离
            type: "value",
            splitLine: {
              show: true
            },
            axisTick: {
              show: false
            }
          }
        ],
        series: [
          {
            name: "理论频率",
            type: "line",
            smooth: true,
            data: [
              [0.01, 11481.83],
              [0.315810296178081, 10496.33],
              [0.428489753963786, 10160.68],
              [0.628784179287867, 9584.61],
              [0.840854746360197, 9003.17],
              [1.00593145845897, 8570.71],
              [1.14318718190678, 8224.44],
              [1.39266861141484, 7625.71],
              [1.66526757482386, 7016.18],
              [1.88509735919476, 6558.12],
              [2.07416285850421, 6187.7],
              [2.43746491991108, 5535.79],
              [2.87739525188277, 4848.71],
              [3.0445267352596, 4616.07],
              [3.19461597274764, 4420.08],
              [3.46566938231988, 4096.25],
              [3.71901648545568, 3827.42],
              [3.97236358859148, 3589.82],
              [4.24341699816372, 3368.37],
              [4.39350623565176, 3259.55],
              [4.56063771902859, 3149.38],
              [4.75544987494947, 3034.85],
              [5.00056805100028, 2910.63],
              [5.36387011240715, 2763.32],
              [5.59981009360693, 2688.44],
              [6.04536435949652, 2584.26],
              [6.80924879162353, 2488.55],
              [7.43803297091111, 2456.79],
              [7.98390727937704, 2445.86]
            ]
          },

          {
            name: "刻度",
            type: "bar",
            barWidth: 1,
            itemStyle: {
              normal: {
                label: {
                  position: "bottom",
                  show: true,
                  formatter: "{b}"
                }
              }
            },

            data: [
              { value: [0, 12000], name: "0.01" },
              { value: [0.428489753963786, 12000], name: "0.02" },
              { value: [0.628784179287867, 12000], name: "0.12" },
              { value: [0.840854746360197, 12000], name: "0.2" },
              { value: [1.14318718190678, 12000], name: "0.5" },
              { value: [1.39266861141484, 12000], name: "1" },
              { value: [2.07416285850421, 12000], name: "5" },
              { value: [2.43746491991108, 12000], name: "10" },
              { value: [2.68258309596189, 12000], name: "15" },
              { value: [2.87739525188277, 12000], name: "20" },
              { value: [3.19461597274764, 12000], name: "30" },
              { value: [3.46566938231988, 12000], name: "40" },
              { value: [3.71901648545568, 12000], name: "50" },
              { value: [3.97236358859148, 12000], name: "60" },
              { value: [4.24341699816372, 12000], name: "70" },
              { value: [4.56063771902859, 12000], name: "80" },
              { value: [4.75544987494947, 12000], name: "85" },
              { value: [5.00056805100028, 12000], name: "90" },
              { value: [5.36387011240715, 12000], name: "95" },
              { value: [6.04536435949652, 12000], name: "99" },
              { value: [6.80924879162353, 12000], name: "99.9" },
              { value: [7.00954321694761, 12000], name: "99.95" },
              { value: [7.43803297091111, 12000], name: "99.99" },
              { value: [8, 12000], name: " " }
            ]
          },
          {
            name: "历史洪水",
            type: "scatter",
            symbolsize: 2,
            data: [
              [1.5589720622714, 7380],
              [1.84940983833678, 7200],
              [2.03566822145207, 7200],
              [2.17703018660123, 6470]
            ]
          },
          {
            name: "经验频率",
            type: "scatter",
            symbol: "triangle",
            symbolsize: 10,
            data: [
              [2.29293961318283, 6170],
              [2.39233897842065, 5820],
              [2.48012210587432, 5710],
              [2.55927444002033, 5700],
              [2.63175910191945, 5580],
              [2.69894025266948, 5560],
              [2.76180701609126, 5530],
              [2.82110130191071, 5420],
              [2.87739525188277, 5420],
              [2.93114046843026, 5300],
              [2.98270056807955, 5200],
              [3.03237343453151, 5190],
              [3.08040686783502, 5170],
              [3.12700986310092, 5140],
              [3.17236091668944, 5120],
              [3.21661426208232, 4820],
              [3.25990463360482, 4760],
              [3.30235096417556, 4640],
              [3.34405929888312, 4640],
              [3.38512512375444, 4530],
              [3.42563525333449, 4520],
              [3.46566938231988, 4370],
              [3.50530137965808, 4360],
              [3.54460038451798, 4280],
              [3.58363174993816, 4140],
              [3.62245787016604, 4130],
              [3.66113892064447, 4100],
              [3.69973353455997, 4020],
              [3.73829943635139, 4020],
              [3.77689405026689, 3990],
              [3.81557510074532, 3960],
              [3.8544012209732, 3910],
              [3.89343258639338, 3880],
              [3.93273159125328, 3880],
              [3.97236358859148, 3730],
              [4.01239771757687, 3700],
              [4.05290784715692, 3660],
              [4.09397367202824, 3650],
              [4.1356820067358, 3620],
              [4.17812833730654, 3600],
              [4.22141870882904, 3540],
              [4.26567205422192, 3530],
              [4.31102310781044, 3500],
              [4.35762610307634, 3470],
              [4.40565953637985, 3430],
              [4.45533240283181, 3420],
              [4.5068925024811, 3400],
              [4.56063771902859, 3370],
              [4.61693166900065, 3370],
              [4.6762259548201, 3210],
              [4.73909271824188, 3150],
              [4.80627386899191, 3020],
              [4.87875853089103, 3000],
              [4.95791086503704, 2790],
              [5.04569399249071, 2790],
              [5.14509335772853, 2630],
              [5.26100278431012, 2460],
              [5.40236474945929, 2450],
              [5.58862313257458, 2450],
              [5.87906090863996, 2260]
            ]
          }
        ]
      }
    };
  },
  components: {
    chart: ECharts
  },
  mounted: function() {
    var _this = this;
    getRequest("/article/dataStatistics").then(
      resp => {
        if (resp.status == 200) {
          //   _this.$refs.dschart.options.xAxis.data = resp.data.categories;
          //   _this.$refs.dschart.options.series[0].data = resp.data.ds;
        } else {
          _this.$message({ type: "error", message: "数据加载失败!" });
        }
      },
      resp => {
        _this.$message({ type: "error", message: "数据加载失败!" });
      }
    );
  }
};
</script>

<style>
</style>